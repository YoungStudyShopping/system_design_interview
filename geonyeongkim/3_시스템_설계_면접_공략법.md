# 시스템 설계 면접 공략법

시스템 설계 면접은 모호한 문제를 풀기 위해 협렵하여 해결책을 찾아가는 과정이다.

즉, 면접관은 설계 면접을 통해 다음과 같은 사항에 대해 지원자의 능력을 체크한다.

- 협력에 적합한 사람인지?
- 압박이 심한 상황도 잘 헤쳐 나갈 자질이 있는지?
- 모호한 문제를 건설적으로 해결한 능력이 있는지?
- 좋은 질문을 던질 능력이 있는지?

### 효과적 면접을 위한 4단계 접근법

**1단계 문제 이해 및 설계 범위 확정**

시스템 설계 면접에서 바로 답을 내려고하는 것은 좋은 점수를 받기 어렵다.

속도를 늦추고 충분히 생각한 뒤 질문하여 요구사항과 가정들을 분명히 해야한다.

이유는 다음과 같다.

1. 면접에서 디자인할 시스템의 범위를 정할 수 있게된다.
2. 면접관과 지원자가 생각하는 중요사항과 시스템 규모를 맞춰야 하기 위함이다.


예시는 다음과 같다.

1. 구체적으로 어떤 기능들을 만들어야 하나?
2. 제품 사용자 수는 얼마나 되나?
3. 회사의 규모는 얼마나 빨리 커지리라 예상하나? 1년뒤의 규모가 어느정도라고 생각하시나?
4. 회사가 주료 사용하는 기술 스택이 무엇인가?


**2단계 개략적인 설계안 제시 및 동의 구하기**

2단계는 개략적인 설계안을 제시하고 면접관의 동의를 얻는것이다.

이 단계의 경우에는 면접관과 협력하며 진행하도록 노력하자.

- 화이트보드나 종이에 핵심 컴포넌트를 포함하는 다이어그램을 그리자
  - 클라이언트, API, 웹서버, 데이터 저장소, 캐시, CDN, 메시지 큐 등이 될 수 있다.
- 개략적인 설계안이 시스템 규모에 관계된 제약사항들을 만족하는지를 체크하자.
  - 이때 생각하지 못한 엣지케이스가 있는지 체크
- API 엔드포인트나 DB 스키마 설계의 경우에는 디자인할 서비스 규모에 따라 2단계에서 할지 아닐지를 정한다.
  - 먼저 요구사항 수립시 가장 중요한 기능에 대해 어느정도 해결법이 보이는 서비스라면 2단계에서 진행하고
  그게 아니라면 주요 기능부터 어떻게 처리할건지 정한 뒤 진행하도록 하자.

<img width="881" alt="image" src="https://user-images.githubusercontent.com/31622350/159700439-b1fb3082-c33d-4f65-92e3-886bd0960afc.png">


**3단계 상세 설계**

3단계까지 오게되면 다음 목표들은 달성한 상태여야 한다.

- 시스템에서 전반적으로 달성해야 할 목표와 기능 범위 확인
- 전체 설계의 개략적 청사진 마련
- 해당 청사진에 대한 면접관의 의견 청취
- 상세 설계에서 집중해야 할 영역들 확인


그리고, 이제 3단계에서는 설계 대상 컴포넌트들의 우선순위를 정하는 것이며<br>
특정 컴포넌트들의 세부사항을 깊이 있게 설계하는 모습을 보여주어야 한다.

가령 단축 URL 생성의 경우 해시 함수의 설계를 주로 볼것이며 채팅의 경우에는 짧은 latency로 메시지들을 전달 및 수신하는 기법들을 볼것이다.

이때 면접관이 주요하게 생각하는 컴포넌트에 대해 시간을 쓰는게 중요하므로 1,2단계 진행 시 면접관이 중요하게 보는 요구사항과 컴포넌트가 무엇인지 체크하는게 바람직하다.

<img width="748" alt="image" src="https://user-images.githubusercontent.com/31622350/159701874-90c52c80-15c6-4b41-8dcd-8312a5b6809e.png">

<br>

<img width="835" alt="image" src="https://user-images.githubusercontent.com/31622350/159701936-bbdf16e4-e149-4fd8-be52-3c6734140511.png">

<br>

**4단계 마무리**

이제 마지막으로 면접관은 결과물에 관련된 후속 질문을 던질 수도 있고 지원자 스스로 추가 논의를 진행하도록 할 수도 있다.

- 면접관이 시스템 병목구간, 혹은 좀 더 개선 가능한 지점을 찾아내라 주문할 수 있다.
  - 이때 개선할 부분이 없다는 식의 답변은 절대하면 안되며 질문의 의도는 비판적 사고로 설계를 볼 수 있는지 인것을 명심하자.
- 설계를 다시 한번 요약해주는것도 좋은 방법이다.
- 오류 발생 시 무슨일이 생길지 예측하는 것도 좋다.
- 운영 이슈로 논의하는 부분도 좋다.
  - 메트릭 수집, 로그 수집, 배포 전략, 자동화 등이 될 수 있다.
- 미래에 닥칠 규모 확장 요구에 어떻게 대처할지에 대해 정하는것도 좋다.
- 필요하지만 시간이 부족해 다루지 못했던 세부 개선사항들을 제안할 수도 있다.

**면접에서 해야할 사항과 하지 말아야 할 사항**

해야할 사항

1. 질문을 통해 확인하라
2. 문제의 요구사항을 이해하라
3. 정답이나 최선의 답안 같은 것은 없다는 점을 명심하라
4. 면접관이 사고 흐름을 이해할 수 있도록 하라
5. 가능하다면 여러 해법을 함께 제시하라
6. 개략적 설계에 면접관이 동의하면 각 컴포넌트의 세부사항을 설명하기 시작하라.
7. 면접관의 아이디어를 이끌어 내라.
8. 포기하지 말라

하지 말아야 할 것.

1. 전형적인 면접 문제들에도 대비하지 않은 상태에서 면접장에 가지 말라.
2. 요구사항, 가정을 분명히 하지 않은 상태에서 설계를 시작하지 말라
3. 처음부터 특정 컴포넌트의 세부사항을 너무 깊이 설명하지 말라
4. 진행 중에 막혔다면 힌트를 청하기를 주저하지 말라
5. 소통을 주저하지 말라
6. 설계안을 내놓는 순간 면접이 끝난다고 생각하지 말라

면접 시간은 정해져 있기 때문에 적절한 시간 배분도 중요하다.

- 1단계: 3분 ~ 10분
- 2단계: 10분 ~ 15분
- 3단계: 10분 ~ 25분
- 4단계: 3분 ~ 5분